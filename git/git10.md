# 10. Git 内部原理

介绍Git内部工作原理和实现方式。

## 10.1 底层命令和高层命令

通过`checkout`、`branch`、`remote`等30个此类命令玩转Git。

Git命令设计成能以UNIX命令行的风格连接在一起。也可以由脚本调用，来完成工作。这部分命令一般称为`底层`命令，而那些更友好的命令被称为`高层`命令。

前九章探讨的高层命令，本章将面对底层命令。底层命令可以了解Git内部工作机制，也有助于说明Git如何完成工作，以及它为何如运作。多数底层命令并不面向最终用户，它们更适合作为新命令和自定义脚本的组成部分。

当在一个新目录或已有目录执行`git init`时，Git会创建一个`.git`目录。这个目录包含了几乎所有Git存储和操作的对象。如若想备份或复制一个版本库，只需把目录拷贝到另一处即可。

本章探讨的内容，均在`.git`目录内,该目录的结构如下：

	$ ls -F1
	HEAD
	config*
	description
	hooks/
	info/
	objects/
	refs/

上方目录为一个通过`git init`创建的全新仓库。

说明:

|名称|类型|说明|
|:----:|:----:|:----|
|description|文件|仅供GitWeb程序使用。|
|config|文件|项目特有的配置选项。|
|info|目录|全局性排除，用来放置不希望记录在`.gitignore`文件中忽略文件。|
|hooks|目录|包含客户端或服务端的钩子脚本。|
|HEAD|文件|指示目前被检出的分支|
|index|文件|（未创建）暂存区信息|
|objects|目录|存储所有的数据内容|
|refs|目录|存储指向数据（分支）的提交对象的指针|
	

-----

## 10.2 Git 对象

### 10.2.1 树对象

### 10.2.2 提交对象

### 10.2.3 对象存储

## 10.3 Git 引用

### 10.3.1 HEAD 引用

### 10.3.2 标签引用

### 10.3.3 远程引用

## 10.4 包文件

## 10.5 引用规格

### 10.5.1 引用规格推送

### 10.5.2 删除引用

## 10.6 传输协议

### 10.6.1 哑协议

### 10.6.2 智能协议

* 上传数据

	* SSH

	* HTTP(S)

* 下载数据

	* SSH

	* HTTP(S)

## 10.7 维护与数据恢复

### 10.7.1 维护

### 10.7.2 数据恢复

### 10.7.3 移除对象

## 10.8 环境变量

### 10.8.1 全局行为

### 10.8.2 版本库位置

### 10.8.3 路径规则

### 10.8.4 提交

### 10.8.5 网络

### 10.8.6 调试

### 10.8.7 其它